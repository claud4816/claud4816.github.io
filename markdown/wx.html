<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>大纲 | 个人文档</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="前端技术及相关知识点整理归纳">
    <link rel="preload" href="/assets/css/0.styles.a7881da7.css" as="style"><link rel="preload" href="/assets/js/app.85a124d9.js" as="script"><link rel="preload" href="/assets/js/4.5f39a6eb.js" as="script"><link rel="preload" href="/assets/js/22.83bed77f.js" as="script"><link rel="prefetch" href="/assets/js/10.5f8a85f9.js"><link rel="prefetch" href="/assets/js/11.6759e947.js"><link rel="prefetch" href="/assets/js/12.458628c1.js"><link rel="prefetch" href="/assets/js/13.99044445.js"><link rel="prefetch" href="/assets/js/14.b42db835.js"><link rel="prefetch" href="/assets/js/15.a4d51a7d.js"><link rel="prefetch" href="/assets/js/16.eda4d2a3.js"><link rel="prefetch" href="/assets/js/17.c5953c8a.js"><link rel="prefetch" href="/assets/js/18.a28f816b.js"><link rel="prefetch" href="/assets/js/19.0c359756.js"><link rel="prefetch" href="/assets/js/2.12ea8054.js"><link rel="prefetch" href="/assets/js/20.16a174d3.js"><link rel="prefetch" href="/assets/js/21.fdbdcf3d.js"><link rel="prefetch" href="/assets/js/23.cd127046.js"><link rel="prefetch" href="/assets/js/24.77432a59.js"><link rel="prefetch" href="/assets/js/3.3c007b1e.js"><link rel="prefetch" href="/assets/js/5.a0d48ae1.js"><link rel="prefetch" href="/assets/js/6.1e171dfc.js"><link rel="prefetch" href="/assets/js/7.898d1706.js"><link rel="prefetch" href="/assets/js/8.cce43762.js"><link rel="prefetch" href="/assets/js/9.d19a435f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a7881da7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Note" class="dropdown-title"><span class="title">Note</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/markdown/jsBase.html" class="nav-link">
  JS基础知识
</a></li><li class="dropdown-item"><!----> <a href="/markdown/webAPI.html" class="nav-link">
  JS面向浏览器
</a></li><li class="dropdown-item"><!----> <a href="/markdown/jsPro.html" class="nav-link">
  JS进阶知识
</a></li><li class="dropdown-item"><!----> <a href="/markdown/ECMAScript6.html" class="nav-link">
  JSES6
</a></li><li class="dropdown-item"><!----> <a href="/markdown/jQuery.html" class="nav-link">
  jQuary
</a></li><li class="dropdown-item"><!----> <a href="/markdown/ajax.html" class="nav-link">
  Ajax通信
</a></li><li class="dropdown-item"><!----> <a href="/markdown/nodeJS.html" class="nav-link">
  JSnode
</a></li><li class="dropdown-item"><!----> <a href="/markdown/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/markdown/wx.html" class="nav-link router-link-exact-active router-link-active">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/markdown/react.html" class="nav-link">
  React入门
</a></li><li class="dropdown-item"><!----> <a href="/markdown/npm.html" class="nav-link">
  npm使用
</a></li><li class="dropdown-item"><!----> <a href="/markdown/git.html" class="nav-link">
  git使用
</a></li><li class="dropdown-item"><!----> <a href="/markdown/mysql.html" class="nav-link">
  mysql了解
</a></li><li class="dropdown-item"><!----> <a href="/markdown/stylus.html" class="nav-link">
  stylus
</a></li></ul></div></div><div class="nav-item"><a href="/custom/user.html" class="nav-link">
  自定义页面
</a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/git@github.com:claud4816/claud4816.github.io.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Note" class="dropdown-title"><span class="title">Note</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/markdown/jsBase.html" class="nav-link">
  JS基础知识
</a></li><li class="dropdown-item"><!----> <a href="/markdown/webAPI.html" class="nav-link">
  JS面向浏览器
</a></li><li class="dropdown-item"><!----> <a href="/markdown/jsPro.html" class="nav-link">
  JS进阶知识
</a></li><li class="dropdown-item"><!----> <a href="/markdown/ECMAScript6.html" class="nav-link">
  JSES6
</a></li><li class="dropdown-item"><!----> <a href="/markdown/jQuery.html" class="nav-link">
  jQuary
</a></li><li class="dropdown-item"><!----> <a href="/markdown/ajax.html" class="nav-link">
  Ajax通信
</a></li><li class="dropdown-item"><!----> <a href="/markdown/nodeJS.html" class="nav-link">
  JSnode
</a></li><li class="dropdown-item"><!----> <a href="/markdown/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/markdown/wx.html" class="nav-link router-link-exact-active router-link-active">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/markdown/react.html" class="nav-link">
  React入门
</a></li><li class="dropdown-item"><!----> <a href="/markdown/npm.html" class="nav-link">
  npm使用
</a></li><li class="dropdown-item"><!----> <a href="/markdown/git.html" class="nav-link">
  git使用
</a></li><li class="dropdown-item"><!----> <a href="/markdown/mysql.html" class="nav-link">
  mysql了解
</a></li><li class="dropdown-item"><!----> <a href="/markdown/stylus.html" class="nav-link">
  stylus
</a></li></ul></div></div><div class="nav-item"><a href="/custom/user.html" class="nav-link">
  自定义页面
</a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/git@github.com:claud4816/claud4816.github.io.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>大纲</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/markdown/wx.html#helloworld" class="sidebar-link">HelloWorld</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#发框架概览" class="sidebar-link">发框架概览</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/markdown/wx.html#wxml" class="sidebar-link">WXML</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#内置组件的用法" class="sidebar-link">内置组件的用法</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#wxss" class="sidebar-link">WXSS</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#js-交互逻辑" class="sidebar-link">JS 交互逻辑</a></li></ul></li><li><a href="/markdown/wx.html#生命周期" class="sidebar-link">生命周期</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#wxml-基础语法" class="sidebar-link">wxml 基础语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/markdown/wx.html#数据绑定" class="sidebar-link">数据绑定</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#wx-if-条件渲染" class="sidebar-link">wx:if 条件渲染</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#block-空标签" class="sidebar-link">block 空标签</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#hidden-属性" class="sidebar-link">hidden 属性</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#wx-for-循环" class="sidebar-link">wx:for 循环</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#模板用法" class="sidebar-link">模板用法</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#事件处理" class="sidebar-link">事件处理</a></li></ul></li><li><a href="/markdown/wx.html#表单操作" class="sidebar-link">表单操作</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#js-交互逻辑详解" class="sidebar-link">JS 交互逻辑详解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#微信小程序-api-详解" class="sidebar-link">微信小程序 API 详解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#默认小程序案例详解" class="sidebar-link">默认小程序案例详解</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#案例-颜值测试" class="sidebar-link">案例:颜值测试</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#总结" class="sidebar-link">总结</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#自定义组件" class="sidebar-link">自定义组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#wxs" class="sidebar-link">WXS</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#尺寸单位-rpx" class="sidebar-link">尺寸单位 rpx</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#回顾" class="sidebar-link">回顾</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#颜值测试案例" class="sidebar-link">颜值测试案例</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#自定义组件-2" class="sidebar-link">自定义组件</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#微信尺寸单位-rpx" class="sidebar-link">微信尺寸单位 rpx</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/markdown/wx.html#wxs-2" class="sidebar-link">wxs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/markdown/wx.html#wxs-基本用法" class="sidebar-link">wxs 基本用法</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#wxs-独立文件用法" class="sidebar-link">wxs 独立文件用法</a></li><li class="sidebar-sub-header"><a href="/markdown/wx.html#wxs-使用注意事项" class="sidebar-link">wxs 使用注意事项</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="大纲"><a href="#大纲" class="header-anchor">#</a> 大纲</h1> <h2 id="helloworld"><a href="#helloworld" class="header-anchor">#</a> HelloWorld</h2> <ul><li>小程序项目结构概述</li> <li>小程序相关配置
<ul><li>全局配置 app.json
<ul><li>pages 表示页面列表，排在第一个的是默认打开页面</li> <li>window 用于设置小程序的状态栏、导航条、标题、窗口背景色。</li> <li>tabBar 设置页面导航菜单</li></ul></li> <li>页面配置 page.json
<ul><li>页面标题名称</li> <li>页面背景色</li></ul></li> <li>工具相关配置 project.config.json</li></ul></li> <li>小程序项目代码分析
<ul><li>app.js 文件是小程序的入口文件（小程序从该文件开始执行）</li> <li>app.wxss 文件是小程序的全局样式文件</li> <li>pages 文件夹用来放置小程序的页面
<ul><li>wxml 模板文件，类似于之前的 HTML 内容</li> <li>wxss 样式文件，类似于之前的 css 文件</li> <li>js 文件，用于处理 js 的交互逻辑，与之前的 js 作用类似</li> <li>json 文件，用于当前页面的配置</li></ul></li> <li>utils 文件夹用于提供一些工具方法</li></ul></li></ul> <h2 id="发框架概览"><a href="#发框架概览" class="header-anchor">#</a> 发框架概览</h2> <blockquote><p>网页编程采用的是 HTML+CSS+JS 这样的组合，其中 HTML 是用来描述当前这个页面的结构，CSS 用来描述页面的样子，JS 通常是用来处理这个页面和用户的交互。
在小程序中也有类似的处理方式，只是语法不同而已，相应的小程序中提供了 WXML+WXSS+JS(WXS)的方式。</p></blockquote> <ul><li>wxml（模板）</li> <li>wxss（样式）</li> <li>js（交互逻辑）</li> <li>wxs（微信脚本语言）</li></ul> <h3 id="wxml"><a href="#wxml" class="header-anchor">#</a> WXML</h3> <blockquote><p>微信小程序模板语法是特有的规则，提供了一些内置组件，也支持自定义组件</p></blockquote> <ul><li>WXML 与 HTML 不同的地方
<ul><li>标签名字不一样</li> <li>多了一些 wx:if 这样的属性以及  这样的表达式</li> <li>事件处理方式不同</li></ul></li></ul> <h3 id="内置组件的用法"><a href="#内置组件的用法" class="header-anchor">#</a> 内置组件的用法</h3> <ul><li>基础组件
<ul><li>text
<ul><li>text 标签不可以嵌套别的组件，但是可以嵌套自己</li> <li>如果需要长按选中文本的话，必须使用 text 标签包裹</li></ul></li> <li>icon</li> <li>progress</li></ul></li> <li>容器组件
<ul><li>view 类似于 HTML 中的 div，可以进行嵌套</li></ul></li> <li>导航组件
<ul><li>navigator
<ul><li>如果要跳转到 tab 链接，需要指定属性 open-type=&quot;switchTab&quot;</li> <li>如果要跳转到普通链接，不需要指定 open-type</li> <li>在微信中实现链接跳转不可以使用传统的 a 标签</li></ul></li></ul></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>我是一个页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>progress</span> <span class="token attr-name">percent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>80<span class="token punctuation">&quot;</span></span> <span class="token attr-name">show-info</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>progress</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 不可以使用a标签做跳转 --&gt;</span>
<span class="token comment">&lt;!-- 如果通过按钮跳转到Tab页面，必须制定open-type=’switchTab‘ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/pages/index/index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>switchTab<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>我是一个链接<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span>
<span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 默认属性是navigate 跳转后有返回按钮 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/pages/test/test<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>navigate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是一个链接<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 设置为redirect后 可以跳转，但是跳转后没有返回按钮 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>navigator</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/pages/test/test<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>redirect<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是一个链接<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>navigator</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>warn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>icon</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span><span class="token style-attr language-css"><span class="token attr-name">
  <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span><span class="token property">background</span><span class="token punctuation">:</span> pink</span><span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>aspectFit<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://developers.weixin.qq.com/miniprogram/dev/image/cat/0.jpg?t=19051018<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>媒体组件
<ul><li>image
<ul><li>mode 裁切方式</li></ul></li></ul></li></ul> <h3 id="wxss"><a href="#wxss" class="header-anchor">#</a> WXSS</h3> <blockquote><p>WXSS 具有 CSS 大部分的特性，小程序在 WXSS 也做了一些扩充和修改。</p></blockquote> <ul><li>WXSS 与 CSS 的不同之处
<ul><li>分为全局样式和局部样式</li> <li>内联样式 style class</li> <li>新增了尺寸单位 rpx（px em rem 百分比 vh vw rpx）</li> <li>WXSS 仅支持部分 CSS 选择器</li></ul></li></ul> <h3 id="js-交互逻辑"><a href="#js-交互逻辑" class="header-anchor">#</a> JS 交互逻辑</h3> <blockquote><p>在小程序里边，我们就通过编写 JS 脚本文件来处理用户的操作</p></blockquote> <ul><li>app.js 中最外层需要 App({}) ，该函数是微信平台提供的 api</li> <li>page.js 中最外层需要 Page({})，该函数是微信平台提供的 api</li> <li>app.js 和 page.js 中都可以通过 data 属性提供数据（data 名字是固定的吗？是）</li> <li>在 page.js 中可以通过 getApp()方法获取全局数据（也就是 app.js 中的 data 数据），也可以获取本页面中 data 数据</li></ul> <h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <ul><li>程序生命周期
<ul><li>onLaunch 小程序初始化完成时（全局只触发一次）</li> <li>onShow 小程序启动，或从后台进入前台显示时</li> <li>onHide 小程序从前台进入后台时</li> <li>onError 小程序发生脚本错误，或者 api 调用失败时触发，会带上错误信息</li> <li>onPageNotFound 小程序要打开的页面不存在时触发，会带上页面信息回调该函数</li></ul></li> <li>页面生命周期
<ul><li>onLoad 页面加载时触发</li> <li>onShow 页面显示/切入前台时触发。</li> <li>onReady 页面初次渲染完成时触发。</li> <li>onHide 页面隐藏/切入后台时触发。</li></ul></li> <li>生命周期函数中一般用于做什么事情？
<ul><li>调用后台接口获取数据</li> <li>启动定时任务</li> <li>注册一些事件（发布-订阅模式---自定义事件）
<ul><li>const vm = new Vue();</li> <li>vm.on('data', ()=&gt;{}) 绑定事件</li> <li>vm.emit('data'); 触发事件</li></ul></li></ul></li></ul> <hr> <h2 id="wxml-基础语法"><a href="#wxml-基础语法" class="header-anchor">#</a> wxml 基础语法</h2> <h3 id="数据绑定"><a href="#数据绑定" class="header-anchor">#</a> 数据绑定</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 完全同Vue一致 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>{{info}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">data-abc</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{id}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="wx-if-条件渲染"><a href="#wx-if-条件渲染" class="header-anchor">#</a> wx:if 条件渲染</h3> <p>wx:if wx:else:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- data中flag为false --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{flag}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是条件渲染<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>else</span><span class="token punctuation">&gt;</span></span>我是else<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>wx:if wx:elif wx:else</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{scroe&lt;60}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成绩为不及格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>elif</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{scroe&gt;=60 &amp;&amp; scroe&lt;=80}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成绩及格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>elif</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{scroe&gt;80 &amp;&amp; scroe&lt;=100}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成绩优秀<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="block-空标签"><a href="#block-空标签" class="header-anchor">#</a> block 空标签</h3> <p>block 同 vue 中 template 一样 可用，不会被渲染出来</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{isShow}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>Tom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>Jerry<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>Spike<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="hidden-属性"><a href="#hidden-属性" class="header-anchor">#</a> hidden 属性</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- isShow 是true就隐藏  false就显示 css控制样式进行隐藏 相当于vue中的v-show --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">hidden</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{isShow}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>测试hedden<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="wx-for-循环"><a href="#wx-for-循环" class="header-anchor">#</a> wx:for 循环</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 注意 wx中默认item和index 也可以自定 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{list}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 自定 : 使用wx:for-item=&quot;&quot;命名--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">wx:</span>for-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>myitem<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{list}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>{{myitem}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span>
<span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="模板用法"><a href="#模板用法" class="header-anchor">#</a> 模板用法</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 定义模板 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mytemplate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{info.uname}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{info.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>{{info.gender}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 使用is引用 data传值给定义的模板 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">is</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>mytemplate<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{...userData}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="事件处理"><a href="#事件处理" class="header-anchor">#</a> 事件处理</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 绑定点击事件 --&gt;</span>
<span class="token comment">&lt;!-- bind:tap会有事件冒泡 click click2都会被触发 --&gt;</span>
<span class="token comment">&lt;!-- 注意此处click加()会有问题 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bind:tap点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- bind:catch会阻止事件冒泡 只会触发事件源click--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">catch:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">catch:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bind:catch点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 点击事件捕获 --&gt;</span>
<span class="token comment">&lt;!-- 不阻止捕获事件向内传递 结果：先click2 在click--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">capture-bind:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">capture-bind:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>capture-bind:tap点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 阻止捕获事件向内传递 结果：只触发click2 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">capture-catch:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name"><span class="token namespace">capture-catch:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>click<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>capture-catch:tap点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 事件对象相关操作 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">data-info</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>nihao<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">data-abc</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>123<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-msg</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>children<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// js代码</span>
<span class="token function">parent</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// event.target触发的是事件源对象</span>
  <span class="token keyword">let</span> target <span class="token operator">=</span> event<span class="token punctuation">.</span>target
  <span class="token comment">// currentTarget触发的是</span>
  <span class="token keyword">let</span> currentTarget <span class="token operator">=</span> event<span class="token punctuation">.</span>currentTarget
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>currentTarget<span class="token punctuation">)</span>
  <span class="token comment">// 通过dataset可以获取标签中的自定义属性</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>dataset<span class="token punctuation">)</span>
</code></pre></div><h2 id="表单操作"><a href="#表单操作" class="header-anchor">#</a> 表单操作</h2> <p>表单提交数据的方式：</p> <ul><li>表单项目需要提供 name 属性</li> <li>提交按钮需要提供属性 form-type='submit'</li> <li>form 组件需要提供属性 bindsubmit=事件处理函数</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 在form表单标签上定义方法 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">bindsubmit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>handleForm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 表单的提交必须有name值 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请输入姓名<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>请输入姓名<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 定义button的类型  --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">form-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">handleForm</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 携带 form 中的数据触发 submit 事件 文档中写的</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h1 id="大纲-2"><a href="#大纲-2" class="header-anchor">#</a> 大纲</h1> <ul><li>js 交互逻辑</li> <li>熟悉小程序 API 作用</li> <li>熟悉默认创建的小程序主页面用户信息获取流程</li> <li>熟悉默认创建的小程序日志页面业务流程</li> <li>熟悉本地存储、界面、后台接口调用 API 用法</li> <li>熟悉图片选取与文件上传 API 用法</li> <li>能够实现颜值测试案例效果</li></ul> <h2 id="js-交互逻辑详解"><a href="#js-交互逻辑详解" class="header-anchor">#</a> JS 交互逻辑详解</h2> <ul><li>js 和 wxml 交互流程分析
<ul><li>js 与模板是如何交互的？</li></ul></li></ul> <ul><li>App() 该函数是微信小程序 api 的一部分，App 名称是固定的
<ul><li>getApp() 作用：在子页面中使用全局实例对象中的数据和方法
<ul><li>不可以显示的调用全局生命周期函数</li> <li>但是可以直接操作自定义的数据或者函数</li></ul></li> <li>这 app.js 中通过 this 的方式获取小程序实例</li></ul></li> <li>Page() 该函数是微信小程序 api 的一部分，Page 名称是固定的
<ul><li>页面数据 data</li> <li>生命周期函数</li> <li>事件处理函数</li> <li>setData 函数用于将数据从逻辑层发送到视图层（异步），同时改变对应的 this.data 的值（同步）。
<ul><li>data 数据变更时同步的：就是调用完成 setData 之后，可以直接在后面获取到最新值</li> <li>视图层更新是异步的：调用完成 setData 之后，页面有可能还没有更新，必须 setData 回调函数触发的时候才更新。</li></ul></li></ul></li> <li>模块化 js（CommonJS 规范）
<ul><li>模块成员导出
<ul><li>module.expors</li> <li>exports</li> <li>组好两者不要结合使用</li></ul></li> <li>模块成员导入 require()</li></ul></li> <li>ES6 的模块化
<ul><li>导出 export</li> <li>导入 import</li></ul></li></ul> <h2 id="微信小程序-api-详解"><a href="#微信小程序-api-详解" class="header-anchor">#</a> 微信小程序 API 详解</h2> <blockquote><p>小程序开发框架提供丰富的微信原生 API，可以方便的调起微信提供的能力，如获取用户信息，本地存储，支付功能等。</p></blockquote> <ul><li>根据 api 的名称大体可以分为如下三类
<ul><li>事件监听 API</li> <li>同步 API</li> <li>异步 API</li></ul></li> <li>常用 API
<ul><li>界面 API：加载提示
<ul><li>wx.showLoading</li> <li>wx.hideLoading</li></ul></li> <li>调用后台接口
<ul><li>wx.request</li></ul></li></ul></li></ul> <h2 id="默认小程序案例详解"><a href="#默认小程序案例详解" class="header-anchor">#</a> 默认小程序案例详解</h2> <ul><li><p>如何获取用户的微信信息</p> <ul><li>默认小程序页面需要提供一个按钮</li> <li>该按钮需要用户点击从而获取个人的头像和昵称
<ul><li>需要配置 open-type=&quot;getUserInfo&quot; （指定该属性和值，那么点击的时候会弹窗提示用户授权）</li> <li>还需要指定事件处理函数 bindgetuserinfo=&quot;getUserInfo&quot;（如果用户点击了允许，那么就调用该属性指定的回调函数，回调函数的名称是自定义的）</li></ul></li></ul></li> <li><p>wx api</p> <ul><li>wx.canIUse('button.open-type.getUserInfo') 判断是否当前版本可用</li> <li>wx.getUserInfo() 获取用户信息（头像和昵称）</li> <li>wx.navigateTo() 跳转非 Tab 页面</li> <li>wx.switchTab() 跳转 Tab 页面</li> <li>wx.getStorageSync() 同步获取本地存储中的数据</li> <li>wx.setStorageSync() 保存数据到本地存储中</li> <li>wx.getSetting() 获取用户的授权信息，但是不包含具体数据</li> <li>res.authSetting 判断用户是否已经进行授权操作</li></ul></li></ul> <h2 id="案例-颜值测试"><a href="#案例-颜值测试" class="header-anchor">#</a> 案例:颜值测试</h2> <ul><li><a href="https://ai.qq.com/" target="_blank" rel="noopener noreferrer">腾讯 AI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <ul><li>技术引擎-&gt;人脸检测与分析</li> <li>测试接口https://ai.qq.com/cgi-bin/appdemo_detectface</li></ul></li> <li>chooseImage() 选择图片或者调用摄像头
<ul><li>sizeType</li> <li>sourceType</li> <li>success</li> <li>const image = res.tempFiles[0]</li> <li>image.size</li> <li>image.path</li></ul></li> <li>wx.uploadFile()
<ul><li>url 图片上传地址</li> <li>filePath 本地图片的路径</li> <li>name 提供给服务器的图片的获取名称</li> <li>success 上传成功的回调函数</li> <li>result.data.face[0] 表示服务器返回数据</li></ul></li> <li>onShareAppMessage() 分享功能</li></ul> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <ul><li>小程序开发流程</li> <li>模板语法
<ul><li>wxml（wxss）</li> <li>js
<ul><li>全局 js（app.js）</li> <li>页面 js
<ul><li>页面数据 data</li> <li>生命周期函数</li> <li>事件函数</li></ul></li> <li>utils 工具函数
<ul><li>模块化
<ul><li>CommonJS
<ul><li>导出
<ul><li>module.exports</li> <li>exports</li></ul></li> <li>导入
<ul><li>require</li></ul></li></ul></li> <li>ES6 模块化
<ul><li>导出
<ul><li>export</li></ul></li> <li>导入
<ul><li>import</li></ul></li></ul></li></ul></li></ul></li></ul></li> <li>微信 api
<ul><li>微信平台提供的 api 功能：界面相关、硬件相关、网络相关等</li> <li>接口调用 wx.request</li></ul></li> <li>默认案例的业务逻辑
<ul><li>主页</li> <li>日志页面</li> <li>授权过程</li> <li>相关的微信 api</li></ul></li></ul></li></ul> <h2 id="自定义组件"><a href="#自定义组件" class="header-anchor">#</a> 自定义组件</h2> <ul><li>json 文件中配置
<ul><li>&quot;component&quot;: true</li></ul></li> <li>js 文件中
<ul><li>properties 组件属性</li> <li>data 组件内部数据</li> <li>methods 组件内部方法</li></ul></li> <li>wxss 组件样式</li> <li>wxml 组件模板
<ul><li></li></ul></li></ul> <h2 id="wxs"><a href="#wxs" class="header-anchor">#</a> WXS</h2> <blockquote><p>WXS 与 JavaScript 是不同的语言，有自己的语法，并不和 JavaScript 一致。</p></blockquote> <ul><li>wxs 模块</li> <li>注释</li> <li>变量</li> <li>数据类型</li> <li>运算符</li> <li>语句</li> <li>基础类库</li></ul> <h2 id="尺寸单位-rpx"><a href="#尺寸单位-rpx" class="header-anchor">#</a> 尺寸单位 rpx</h2> <blockquote><p>rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为 750rpx。如在 iPhone6 上，屏幕宽度为 375px，共有 750 个物理像素，则 750rpx = 375px = 750 物理像素，1rpx = 0.5px = 1 物理像素。</p></blockquote> <table><thead><tr><th>设备</th> <th>rpx 换算 px (屏幕宽度/750)</th> <th>px 换算 rpx (750/屏幕宽度)</th></tr></thead> <tbody><tr><td>iPhone5</td> <td>1rpx = 0.42px</td> <td>1px = 2.34rpx</td></tr> <tr><td>iPhone6</td> <td>1rpx = 0.5px</td> <td>1px = 2rpx</td></tr> <tr><td>iPhone6 Plus</td> <td>1rpx = 0.552px</td> <td>1px = 1.81rpx</td></tr></tbody></table> <h1 id="第四天-纯笔记-未整理"><a href="#第四天-纯笔记-未整理" class="header-anchor">#</a> 第四天 纯笔记 未整理</h1> <h1 id="大纲-3"><a href="#大纲-3" class="header-anchor">#</a> 大纲</h1> <ul><li>setdata 是同步加载的和异步加载
<ul><li>数据的更新是同步的</li> <li>的（为了提高性能：尽量减少页面更新次数）</li></ul></li> <li>wx:if、hidden、block</li></ul> <h2 id="回顾"><a href="#回顾" class="header-anchor">#</a> 回顾</h2> <ul><li><p>微信小程序开发</p> <ul><li>页面布局
<ul><li>模板语法</li> <li>样式处理</li></ul></li> <li>js 交互逻辑
<ul><li>app.js</li> <li>page.js</li> <li>util</li></ul></li> <li>微信 API
<ul><li>界面相关</li> <li>网络相关</li> <li>。。。</li></ul></li></ul></li> <li><p>wx.canIUse 参数说明</p> <ul><li><code>${API}.${method}.${param}.${options}</code> <ul><li>wx.canIUse('request.object.method.GET')</li></ul></li> <li><code>${component}.${attribute}.${option}</code> <ul><li>wx.canIUse('button.open-type.getUserInfo')</li> <li>wx.canIUse('text.selectable.false')</li></ul></li> <li><code>${method}</code> 代表调用方式，有效值为 return, success, object, callback
<ul><li>return 表示返回值，用于同步函数（以 Sync 结尾的函数）</li> <li>success 表示对象参数中 success 回调函数</li> <li>object 表示对象形式的参数</li> <li>callback 表示参数为回调函数</li></ul></li></ul></li> <li><p>ES6 模块化开发</p> <ul><li>模块成员导出
<ul><li>module.exports 一般用于导出成员比较多的的场景</li> <li>exports 一般用于导出成员比较少的场景</li> <li>两者不要结合使用</li></ul></li> <li>模块成员导入
<ul><li>require</li></ul></li></ul></li> <li><p>默认案例</p> <ul><li>首页功能：默认显示按钮，点击按钮后弹出让用户授权，授权之后获取用户信息，然后隐藏按钮并且显示用户信息，点击头像时，跳转到日志页面
<ul><li>open-type=&quot;getUserInfo&quot; 必须指定该值，点击按钮时才有授权弹窗</li> <li>bindgetuserinfo=&quot;getUserInfo&quot; 用户允许后，通过该属性指定的回调函数获取用户信息</li></ul></li> <li>日志页面用于从本地缓存获取日期数据并进行遍历，遍历的数据项需要通过 util 中的格式化日期方法处理
<ul><li>CommonJS 模块化导入和导出规则</li></ul></li> <li>本地缓存操作：保存数据；获取数据
<ul><li>setStorageSync() 保存数据</li> <li>getStorageSync() 获取数据</li></ul></li> <li>用户信息的获取操作
<ul><li>onLaunch 小程序首次打开时获取用户授权信息</li> <li>onLoad 首页加载时获取用户授权信息</li></ul></li></ul></li></ul> <h2 id="颜值测试案例"><a href="#颜值测试案例" class="header-anchor">#</a> 颜值测试案例</h2> <ul><li><p><a href="https://ai.qq.com/" target="_blank" rel="noopener noreferrer">腾讯 AI<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>技术引擎-&gt;人脸检测与分析</li> <li>测试接口 https://ai.qq.com/cgi-bin/appdemo_detectface</li></ul></li> <li><p>需求分析</p> <ul><li>页面默认设置一个背景图片</li> <li>下面有一个按钮，点击后选中图片，选中图片后，上传到 AI 接口分析颜值</li> <li>AI 接口返回数据进行页面显示</li> <li>实现摄像头拍照功能</li> <li>实现分享功能</li></ul></li> <li><p>基本布局</p> <ul><li>背景图片</li> <li>选择图片按钮</li> <li>结果显示框</li></ul></li> <li><p>选择图片（获取选中图片的路径即可）</p> <ul><li>按钮绑定事件</li> <li>调用 wx.chooseImage 选择图片
<ul><li>参数 sourceType（ 图片来源方式：本地相册，拍照）
<ul><li>['album', 'camera']</li></ul></li> <li>参数 success （选择图片的回调函数）
<ul><li>res.tempFiles[0].path （选择图片的路径）</li></ul></li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>    wx.chooseImage({
      success: function(res) {
        // console.log(res)
        // 获取选中图片的路径
        let path = res.tempFiles[0].path;
        console.log(path);
      }
    });
</code></pre></div></li></ul> <ul><li><p>上传文件到 AI 颜值测试接口</p> <ul><li><p>调用 wx.uploadFile 上传文件</p> <ul><li>参数 url （图片上传地址）</li> <li>参数 filePath （本地图片的路径）</li> <li>参数 name （提供给服务器的图片的获取名称）</li> <li>参数 success （上传成功的回调函数）
<ul><li>result.data.face[0] （表示服务器返回数据）</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>   wx.uploadFile({
      // 上传的地址（ai地址）
      url: 'https://ai.qq.com/cgi-bin/appdemo_detectface',
      // 要上传的文件的路径
      filePath: path,
      // 该name的值用于提供给服务器获取图片信息（服务器更加该名称获取图片）
      name: 'image_file',
      // 获取接口的返回结果数据
      success: function(res) {
        console.log(typeof res.data);
      }
    })
</code></pre></div></li></ul></li></ul> <ul><li><p>获取结果并更新页面</p> <div class="language- extra-class"><pre class="language-text"><code>// 把res.data字符串转化为json对象
let obj = JSON.parse(res.data);
let info = obj.data.face[0];
// console.log(info);
// 更新页面数据必须使用setData
that.setData({
  gender: info.gender,
  age: info.age,
  beauty: info.beauty,
  glass: info.glass
});
</code></pre></div></li></ul> <ul><li>转发功能
<ul><li>onShareAppMessage
<ul><li>title 标题</li> <li>path 当前页面路径</li> <li>imgUrl 缩略图图片路径</li></ul></li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>  // 点击转发触发该函数，可以定制分享窗口的效果
  onShareAppMessage () {
    return {
      title: '颜值测试',
      path: '/pages/ai/index',
      imageUrl: '/assets/icon.jpg'
    }
  },
</code></pre></div><h2 id="自定义组件-2"><a href="#自定义组件-2" class="header-anchor">#</a> 自定义组件</h2> <blockquote><p>小程序提供了丰富的内置组件，但是也有一些业务相关的功能并不能通过单个的内置组件完成，此时，可以把一些通用的功能封装成自定义组件，方便重复使用。</p></blockquote> <ul><li><p>创建自定义组件</p> <ul><li><p>创建 components 目录，用于存放所有自定义组件</p></li> <li><p>创建 Component 页面</p> <ul><li><p>json 文件中配置</p> <ul><li>&quot;component&quot;: true 将该页面声明为自定义组件</li></ul></li> <li><p>js 文件中配置</p> <ul><li>properties 组件属性
<ul><li>可以通过该属性定义组件的属性</li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code> properties: {
    // 表示该自定义组件有一个menu属性
    menu: {
      type: Array, // 约束组件属性的类型（Number;Boolean;String;Object;Array）
      value: ['头条', '娱乐', '经济']
    }
  }
</code></pre></div><ul><li>data 组件内部数据</li></ul> <div class="language- extra-class"><pre class="language-text"><code>  data: {
    start: '【',
    end: '】'
  },
</code></pre></div><ul><li>methods 组件内部方法</li></ul> <div class="language- extra-class"><pre class="language-text"><code>  methods: {
    handle () {
      // console.log('click')
      // 触发事件时，修改data中数据
      this.setData({
        start: '&lt;',
        end: '&gt;'
      });
    }
  }
</code></pre></div></li> <li><p>wxss 组件样式</p></li> <li><p>wxml 组件模板</p> <ul><li><p>组件插槽 </p></li> <li><p>必须开启插槽功能</p> <div class="language- extra-class"><pre class="language-text"><code>  // options属性与data平级
  options: {
    multipleSlots: true // 在组件定义时的选项中启用多slot支持
  },
</code></pre></div></li></ul></li></ul></li></ul></li> <li><p>实现自定义组件功能</p></li> <li><p>使用自定义组件</p> <ul><li><p>在页面 page.json 文件中配置自定义组件名称和路径</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;usingComponents&quot;: {
   &quot;my-header&quot;: &quot;/components/header/index&quot;
 }
</code></pre></div></li> <li><p>在页面中使用组件</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;my-header&gt;&lt;/my-header&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>// 使用组件时，可以给属性传递数据
&lt;my-header menu='{{[123,456,789]}}'&gt;&lt;/my-header&gt;
</code></pre></div></li></ul></li></ul> <h2 id="微信尺寸单位-rpx"><a href="#微信尺寸单位-rpx" class="header-anchor">#</a> 微信尺寸单位 rpx</h2> <blockquote><p>rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为 750rpx。如在 iPhone6 上，屏幕宽度为 375px，共有 750 个物理像素，则 750rpx = 375px = 750 物理像素，1rpx = 0.5px = 1 物理像素。</p></blockquote> <table><thead><tr><th>设备</th> <th>rpx 换算 px (屏幕宽度/750)</th> <th>px 换算 rpx (750/屏幕宽度)</th></tr></thead> <tbody><tr><td>iPhone5(320)</td> <td>1rpx = 0.42px</td> <td>1px = 2.34rpx</td></tr> <tr><td>iPhone6(375)</td> <td>1rpx = 0.5px</td> <td>1px = 2rpx</td></tr> <tr><td>iPhone6 Plus(414)</td> <td>1rpx = 0.552px</td> <td>1px = 1.81rpx</td></tr></tbody></table> <blockquote><p>使用的时候，根据 rpx 总宽度，就可以大体上清楚，rpx 具体值所占据的屏幕宽度：比如表示屏幕的一半就是 375rpx</p></blockquote> <h2 id="wxs-2"><a href="#wxs-2" class="header-anchor">#</a> wxs</h2> <blockquote><p>WXS 与 JavaScript 是不同的语言，有自己的语法，并不和 JavaScript 一致。</p></blockquote> <h3 id="wxs-基本用法"><a href="#wxs-基本用法" class="header-anchor">#</a> wxs 基本用法</h3> <ul><li>在 wxml 模板页面可以直接使用 wxs</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>wxs</span> <span class="token attr-name">module</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>m1<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
  // 代码注释
  var n = 123;
  var fn = function() {
    return 'hello';
  }
  // 导出成员
  module.exports = {
    n: n,
    fn: fn
  }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>wxs</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code>// 使用wxs模块导出的成员
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  {{m1.n}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  {{m1.fn()}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="wxs-独立文件用法"><a href="#wxs-独立文件用法" class="header-anchor">#</a> wxs 独立文件用法</h3> <blockquote><p>可以将 wxs 代码放到一个独立的文件中，比如：common.wxs</p> <p>页面使用文件时，需要导入 <wxs src="./common.wxs" module="m2"></wxs></p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code>var info = 'hello Kitty';
module.exports = {
  info: info
};
</code></pre></div><blockquote><p>common.wxs 文件中可以导入别的 wxs 文件：比如 info.wxs</p></blockquote> <div class="language-html extra-class"><pre class="language-html"><code>var m3 = require('./info.wxs');
var info = 'hello Kitty';
module.exports = {
  info: info,
  m3info: m3.msg
};
</code></pre></div><h3 id="wxs-使用注意事项"><a href="#wxs-使用注意事项" class="header-anchor">#</a> wxs 使用注意事项</h3> <ul><li>每个 wxs 模块的作用域是私有的</li> <li>成员的导出通过 module.exports，不可以直接通过 exports 导出</li> <li>通过 module 属性给模块命名</li> <li>使用的时候通过 module 属性的命名访问导出的成员</li> <li>wxs 内容可以抽取到独立的文件中，
<ul><li>然后在 wxml 模板文件中可以引入（wxs 标签的 src 属性），</li> <li>也可以在 wxs 文件中引入别的 wxs 文件（require）</li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/git@github.com:claud4816/claud4816.github.io.git/edit/master/markdown/wx.md" target="_blank" rel="noopener noreferrer">编辑此页面</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.85a124d9.js" defer></script><script src="/assets/js/4.5f39a6eb.js" defer></script><script src="/assets/js/22.83bed77f.js" defer></script>
  </body>
</html>
